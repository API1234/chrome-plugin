<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>英语词汇表</title>
    <link rel="stylesheet" href="../styles/ui.css" />
    <style>
      body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif; margin: 16px; }
      .toolbar { display: flex; gap: 8px; margin-bottom: 12px; }
      button { padding: 6px 10px; }
      table { width: 100%; border-collapse: collapse; }
      th, td { border-bottom: 1px solid #eee; text-align: left; padding: 8px; vertical-align: top; }
      .text { white-space: pre-wrap; word-break: break-word; }
      .row-actions { display: flex; gap: 8px; }
      .muted { color: #888; font-size: 12px; }
      .search { width: 260px; padding: 6px 8px; }
      .empty { color: #666; padding: 24px 0; }
    </style>
  </head>
  <body>
    <div class="toolbar">
      <input id="search" class="search input" placeholder="搜索单词/例句/来源" name="xhs_board_search" type="search" inputmode="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
      <select id="sortSelect" class="input" style="width: 180px;">
        <option value="time_desc">添加时间：新->旧</option>
        <option value="time_asc">添加时间：旧->新</option>
        <option value="alpha_asc">首字母：A->Z</option>
        <option value="alpha_desc">首字母：Z->A</option>
      </select>
      <button id="addWordBtn" class="btn btn-primary">新增单词</button>
      <button id="export" class="btn">导出词库</button>
      <button id="clearAll" class="btn btn-danger">清空词库</button>
    </div>

    <!-- Modal: Clear All -->
    <div id="modalClear" class="modal-overlay" style="display:none;">
      <div class="modal">
        <div class="modal-body">
          <div class="modal-title">清空全部</div>
          <div class="modal-content">
            <input id="clearInput" class="input modal-input" placeholder="请输入 清空 以确认" />
            <div class="modal-tip">为防误操作，请输入“清空”两个字后再确认。</div>
          </div>
          <div class="modal-actions">
            <button id="clearCancel" class="btn">取消</button>
            <button id="clearConfirm" class="btn btn-danger">确认清空</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal: Sentence Note (Markdown) -->
    <div id="modalNote" class="modal-overlay" style="display:none;">
      <div class="modal" style="width: 720px; max-width: calc(100% - 40px)">
        <div class="modal-body">
          <div class="modal-title">例句详细解析（Markdown）</div>
          <div class="modal-content">
            <div id="notePreview" class="markdown-body" style="display:none;"></div>
            <textarea id="noteEditor" class="input modal-textarea" placeholder="使用 Markdown 编写解析...（如：单词高亮、语法点、替换、近义词等）"></textarea>
          </div>
          <div class="modal-actions">
            <button id="noteCancel" class="btn">取消</button>
            <button id="noteView" class="btn">预览</button>
            <button id="noteSave" class="btn btn-primary">保存</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal: Add Word -->
    <div id="modalAddWord" class="modal-overlay" style="display:none;">
      <div class="modal">
        <div class="modal-body">
          <div class="modal-title">新增单词</div>
          <div class="modal-content">
            <input id="addWordInput" class="input modal-input" placeholder="请输入英文单词，如 algorithm" />
          </div>
          <div class="modal-actions">
            <button id="addWordCancel" class="btn">取消</button>
            <button id="addWordConfirm" class="btn btn-primary">保存</button>
          </div>
        </div>
      </div>
    </div>
    <div class="table-wrap">
      <table class="table-sticky">
        <thead>
          <tr>
            <th style="width: 200px">单词</th>
            <th>例句</th>
            <th style="width: 20%">来源</th>
            <th style="width: 160px">添加时间</th>
            <th style="width: 120px">操作</th>
          </tr>
        </thead>
        <tbody id="list"></tbody>
      </table>
    </div>
    <div id="empty" class="empty" style="display:none;">暂无数据</div>

    <script src="../src/board.js"></script>
  </body>
  </html>


